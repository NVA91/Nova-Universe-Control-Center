---
# docker_setup Role - Nova Universe Konfiguration
# Die Installation macht jetzt die Library (via meta/main.yml). Hier nur noch Config.

- name: "Nova Docker: Erstelle Docker Compose Verzeichnis"
  ansible.builtin.file:
    path: "/opt/docker-compose"
    state: directory
    mode: '0755'
    owner: root
    group: docker
  tags: [docker, directories]

- name: "Nova Docker: Erstelle App-Verzeichnisse"
  ansible.builtin.file:
    path: "/opt/docker-compose/{{ item.key }}"
    state: directory
    mode: '0755'
    owner: root
    group: docker
  loop: "{{ apps_config | default({}) | dict2items }}"
  when: apps_config is defined
  tags: [docker, directories]
